(function(e){function t(t){for(var n,i,a=t[0],u=t[1],c=t[2],l=0,m=[];l<a.length;l++)i=a[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==o[u]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/simon/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"196f":function(e,t,r){e.exports=r.p+"media/3.c1c96b44.mp3"},"3c6d":function(e,t,r){e.exports=r.p+"media/1.99e50f7d.mp3"},"3cf8":function(e,t,r){e.exports=r.p+"media/2.d2c4a2c4.mp3"},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("audio",{attrs:{id:"a",src:""}}),r("div",{staticClass:"game-board"},[r("div",{staticClass:"box-1",attrs:{"data-id":"1"},on:{click:function(t){return e.registerClick(t)}}}),r("div",{staticClass:"box-2",attrs:{"data-id":"2"},on:{click:function(t){return e.registerClick(t)}}}),r("div",{staticClass:"box-3",attrs:{"data-id":"3"},on:{click:function(t){return e.registerClick(t)}}}),r("div",{staticClass:"box-4",attrs:{"data-id":"4"},on:{click:function(t){return e.registerClick(t)}}})]),r("div",[r("div",[e.gameIsOn?r("p",[e._v("Раунд:"+e._s(e.round))]):e._e(),e.userLost&&!e.gameIsOn?r("p",[e._v("Вы проиграли!")]):e._e()]),e._m(0),r("div",[r("label",{attrs:{for:"easy"}},[e._v("Легкий")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],attrs:{type:"radio",value:"1500",checked:""},domProps:{checked:e._q(e.mode,"1500")},on:{change:function(t){e.mode="1500"}}})]),r("div",[r("label",{attrs:{for:"easy"}},[e._v("Средний")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],attrs:{type:"radio",value:"600"},domProps:{checked:e._q(e.mode,"600")},on:{change:function(t){e.mode="600"}}})]),r("div",[r("label",{attrs:{for:"easy"}},[e._v("Тяжелый")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],attrs:{type:"radio",value:"400"},domProps:{checked:e._q(e.mode,"400")},on:{change:function(t){e.mode="400"}}})])]),e.userLost||e.gameIsOn?e._e():r("button",{on:{click:e.startGame}},[e._v("Начать")]),e.userLost&&!e.gameIsOn?r("button",{on:{click:e.startGame}},[e._v(" Начать сначала ")]):e._e()])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v("Выберите сложность")])])}],i={name:"App",data(){return{mode:1500,gameSequence:[],copy:[],clicked:null,round:0,userTurn:!1,userSquence:[],gameIsOn:!1,userLost:!1}},computed:{sequenceToGuess:function(){return[...this.gameSequence]}},methods:{playAudio(e){let t=new Audio(r("ba5b")(`./${e.dataset.id}.mp3`));console.log("123"),t.play()},flash(e){return new Promise(t=>{e.classList.add("lit"),this.playAudio(e),setTimeout(()=>{e.classList.remove("lit"),setTimeout(()=>t(),250)},parseInt(this.mode))})},playSequence:async function(){this.userTurn=!1;let e=this.gameSequence.map(e=>document.querySelector(`[data-id="${e}"]`));for(const t of e)await this.flash(t);this.userTurn=!0},randomNumber(){return Math.floor(4*Math.random()+1)},startGame(){this.gameSequence=[],this.gameIsOn=!0,this.newRound()},gameOver(){this.round=0,this.gameIsOn=!1,this.userTurn=!1,this.userLost=!0},newRound(){let e=document.querySelectorAll("[data-id]");e.forEach(e=>{e.addEventListener("click",this.userClick),e.addEventListener("mousedown",this.userMouseDown),e.addEventListener("mouseup",this.userMouseUp)}),this.round++,this.userSquence=[],this.gameSequence.push(this.randomNumber()),this.playSequence()},userClick(e){console.log(e),this.playAudio(e.target)},userMouseDown(e){e.target.classList.add("lit")},userMouseUp(e){e.target.classList.remove("lit")},registerClick(e){!0===this.userTurn&&(this.userSquence.push(parseInt(e.target.dataset.id)),this.clicked=e.target.dataset.id,this.checkLose())},checkLose(){let e=this.sequenceToGuess.shift();if(e==this.clicked){if(0===this.sequenceToGuess.length){let e=document.querySelectorAll("[data-id]");e.forEach(e=>{e.removeEventListener("click",this.userClick),e.removeEventListener("mousedown",this.userMouseDown),e.removeEventListener("mouseup",this.userMouseUp)}),this.newRound()}}else alert("game over!"),this.gameOver()}}},a=i,u=(r("5c0b"),r("2877")),c=Object(u["a"])(a,o,s,!1,null,null,null),d=c.exports;n["a"].config.productionTip=!1,n["a"].config.devtools=!0,new n["a"]({render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"78fc":function(e,t,r){e.exports=r.p+"media/4.36d5a722.mp3"},"9c0c":function(e,t,r){},ba5b:function(e,t,r){var n={"./1.mp3":"3c6d","./2.mp3":"3cf8","./3.mp3":"196f","./4.mp3":"78fc"};function o(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id="ba5b"}});
//# sourceMappingURL=app.3c8281b5.js.map